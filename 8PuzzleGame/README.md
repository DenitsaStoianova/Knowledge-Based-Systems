# Евристично търсене в пространство на състояния

***Описание на задачата и описание на използваните методи за нейното решаване:***

Представeно е решение на играта за 8-те плъзгащи се плочки. Целта на
играта е да се преместят плочките от началото до крайното състояние, с
възможно най-малко ходове. Възможните ходове са плъзгане нагоре,
надолу, наляво и надясно на плочка, съседна на празния квадрат, водещо
до размяна на мястото на плочката с това на празния квадрат.

Решаването на 8-те плъзгащи се плочки се свежда до
последователно преминаване от едно описание на задачата към друго,
докато се стигне до описание, отговарящо на решението на задачата.

За решение на задачата се използва търсене на път до определена
цел – търси се път от даденото начално състояние (което в случая се
генерира случайно) до определено целево състояние (правилната наредба
във възходящ ред на всички плочки). Пътят се търси под формата на
списък от възли в дърво на състоянията (където възлите са различните
състояния, а дъгите – операторите за достигане от дадено състояние до
друго). Целта е да се достигне до крайното състояние с възможно наймалко ходове. За постигането й използвам евристичните методи за
търсене с минимизиране на общата цена на пътя (A*) и метода на найдоброто спускане (best-first search). Те реализират пълно изчерпване по
гъвкава стратегия, приложими са поради наличието на информация,
позволяваща да се конструира оценяваща функция, която връща като
резултат близостта на текущо оценяваното състояние до целта. Използвала
съм евристичните функции Манхатънско разстояние и брой на плочките в
оценяваното състояние, които не са на местата си в целевото състояние.

***Програмна реализация на задачата:***

При стартиране на програмата се създава състояние на дъската с
плъзгащите се плочки с размерност 3х3 с генерирано случайно
разположение на плочките. Използван е едномерен масив за представяне
на различните плочки с цел постигане на по-голяма оптималност откъм
памет и бързодействие. Масива се състои от числата в интервала [0,8],
като различните числови плочки са представени с числата [1,8], а 0
използвам за празната плочка.

След генерираното случайно състояние, се създава първия възел от ДС,
който има стойности: Parent = null, BoardState = текущо генерираната
конфигурация, OperatorType = START, Heuristic = 0, pathCost = 0.
Следващата стъпка от програмата е задаването на съответната евристична
функция, която ще се използва като мярка за близостта на оценяваното
състояние до целта. След това се изпълнява метода за търсене, резултата
от който се визуализира на потребителя под формата на изминатия път от
началното състояние до достигането на целта (за визуализирането на пътя
използвам рекурсивна функция, която взима данните за всеки един възел,
използвайки неговия родител).

**Програмата се състои от:**

***BoardState (Състояние на дъската):***
- Състои от масив, съдържащ различните плочки и пази позицията на
празната плочка (за улеснение при реализирането на местене на
плочка).
- Представлява конкретното описание на задачата в процеса на
нейното решаване. В случая това са разположенията
(конфигурациите) на 8-те плочки.
- Генерира се случайно начално състояние. 

***DirectionOperator (Оператор):***
- Начин, по който от дадено състояние се получава друго. Това са
преместванията на празното поле плъзгане нагоре, надолу, наляво и
надясно. 

***Node (Възел от ДС):***
- Клас, който се състои от следните компоненти:
- BoardState - състоянието от пространството, на което съответства
разглежданият възел
- ParentNode - възелът от ДС, като наследник на който е генериран
разглежданият възел
- Operatpr - операторът, с помощта на който е бил генериран
разглежданият възел
- PathCost - цената на пътя от началното състояние до състоянието,
съответно на разглеждания възел. Цената на пътя е 1 за всяко
преместване

***Heuristics (Евристики):***
- ManhattanDistance (Манхатънско разстояние) – сумата на
разстоянията на всички плочки от оценяваното състояние до
правилните им положения в целевото състояние. Манхатънско
разстояние между точките (Xi,Yi) и (Xj,Yj): D = |Xi-Xj| + |Yi-Yj|.
- NumberOfUnorderedTiles - Броят на плочките в оценяваното
състояние, които не са на местата си в целевото състояние.

**Стратегии за търсене:**

За програмната реализация на стратегиите се използва работна памет -
списък - PriorityQueue, наречен фронт на търсенето. В случая не се
използва списък, който да пази посетените възли, защото се работи с
дърво.

***Търсене на най-добър път (Best-first search):***
- Списъкът (фронтът на търсенето) се сортира в съответствие с
евристичната функция h(Node)
- Първоначално се състои от един път, включващ само началното
състояние
- Избира се възел и ако е довел до постигане на целта се поставя край
на алгоритъма
- В случай, че не води до целта, ацикличните пътища, които го
разширяват се добавят към фронта, който ги пази в сортиран вид
според евристичната функция h
- По този начин на следващата стъпка се обработва пътя, който има
най-добра евристична оценка

Характеристики:

- Стратегията не е пълна, има опасност от зацикляне
- Няма оптималност
- Времевата сложност е O(b^m)
- Пространствената сложност е O(b^m)

***Търсене с минимизиране на общата цена на пътя (A*):***
- Списъкът (фронтът на търсенето) се сортира в съответствие с
функцията f(Node) = g(Node) + h(Node)
- g(Node) e цената на изминатия път от началния възел до
достигането на текущия (Node)
- h(Node) e евристична функция - приблизителната стойност на цената
на оставащата част от пътя от текущия възел (Node) до целта
- Първоначално се състои от един път, включващ само началното
състояние
- Избира се възел и ако е довел до постигане на целта се поставя край
на алгоритъма
- В случай, че не води до целта, ацикличните пътища, които го
разширяват се добавят към фронта, който ги пази в сортиран вид
според функцията f
- По този начин на следващата стъпка се обработва пътя, който има
най-добра оценка

Характеристики:

- Стратегията е пълна, ако всеки възел има краен брой наследници
- Оптималност ако евристиката е оптимистична
- Експоненциална времева сложност
- Експоненциална пространствена сложност






